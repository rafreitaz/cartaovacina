{"version":3,"file":"index.m.js","sources":["../src/index.js"],"sourcesContent":["import onlyNumbers from '@brazilian-utils/helper-only-numbers';\n\nconst numberToWeightArray = (weight, length) => {\n  const array = [];\n  for (let i = 0; i < length; i++) {\n    array.push(weight - i);\n  }\n\n  return array;\n};\n\nconst createChecksum = (cpfStart, weights) =>\n  cpfStart.split('').reduce((agg, value, index) => agg + parseInt(value, 10) * weights[index], 0);\n\nexport default function generateChecksum(base, weights) {\n  const numericBase = onlyNumbers(base);\n\n  if (weights.constructor === Number) {\n    const weightsArray = numberToWeightArray(weights, numericBase.length);\n    return createChecksum(numericBase, weightsArray);\n  }\n\n  if (weights.constructor === Array) {\n    return createChecksum(numericBase, weights);\n  }\n\n  throw new Error('Invalid weight type. Should be an Array like or a Number');\n}\n"],"names":["const","numberToWeightArray","weight","length","array","i","push","createChecksum","cpfStart","weights","split","reduce","agg","value","index","parseInt","base","numericBase","onlyNumbers","constructor","Number","weightsArray","Array","Error"],"mappings":"oDAEAA,IAAMC,WAAuBC,EAAQC,GAEnC,IADAH,IAAMI,KACGC,EAAI,EAAGA,EAAIF,EAAQE,IAC1BD,EAAME,KAAKJ,EAASG,GAGtB,OAAOD,GAGHG,WAAkBC,EAAUC,UAChCD,EAASE,MAAM,IAAIC,gBAAQC,EAAKC,EAAOC,UAAUF,EAAMG,SAASF,EAAO,IAAMJ,EAAQK,IAAQ,mBAEhF,SAA0BE,EAAMP,GAC7CT,IAAMiB,EAAcC,EAAYF,GAEhC,GAAIP,EAAQU,cAAgBC,OAAQ,CAClCpB,IAAMqB,EAAepB,EAAoBQ,EAASQ,EAAYd,QAC9D,OAAOI,EAAeU,EAAaI,GAGrC,GAAIZ,EAAQU,cAAgBG,MAC1B,OAAOf,EAAeU,EAAaR,GAGrC,MAAM,IAAIc,MAAM"}